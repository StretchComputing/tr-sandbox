<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8">
<title>Livefeed</title>
<meta name="viewport" content="width=device-width, initial-scale=1">
<link rel="stylesheet" href="http://code.jquery.com/mobile/latest/jquery.mobile.min.css" />
<script src="http://ajax.googleapis.com/ajax/libs/jquery/1.6.4/jquery.min.js"></script>
<script src="http://code.jquery.com/mobile/latest/jquery.mobile.min.js"></script>
<script src="/js/script.js"></script>
<script>
  function itemName() {
    return 'crashDetects';
  }

  function listItem(item) {
    var display = item['detectedDate'] + ' - ' + item['userName'] + ' - ' + item['instanceUrl'];
    return '<li><a href="#item?id=' + item['crashDetectId'] + '">' + display + '</a></li>';
  }

  function itemDetails(item) {
    var html = '<div>Detected Date: ' + item['detectedDate'] + '</div>';
    html += '<div>User: ' + item['userName'] + '</div>';
    html += '<div>For: ' + item['instanceUrl'] + '</div>';
    html += '<div>Status: ' + item['status'] + '</div>';
    html += '<div>';
    html += '  Crash Stack Data: ';
    html += '  <a href="/crashStackData/' + item['crashDetectId'] + '.plcrash" data-ajax="false">plcrash file</a>';
    html += '</div>'
    return html;
  }
</script>
</head>

<body>
  <div data-role="page" id="index">
    <div data-role="header">
      <h1>All Crash Detects</h1>
    </div>
    <div data-role="content"></div>
    <div data-role="footer">
      <div data-role="navbar">
        <ul>
          <li>(put link here to view archives)</li>
        </ul>
      </div>
    </div>
  </div>

  <div id="item" data-role="page">
    <div data-role="header">
      <h1>Crash Detect</h1>
    </div>
    <div data-role="content"></div>
    <div data-role="footer">
      <div data-role="navbar">
        <ul>
          <li><a href="#index">Back To All Crash Detects</a></li>
        </ul>
      </div>
    </div>
  </div>
</body>
</html>